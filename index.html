<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cek Harga iPhone - Digimap Dumai</title>
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #007AFF;
            --bg: #F2F2F7;
            --card: #FFFFFF;
            --text-main: #1C1C1E;
            --text-sec: #8E8E93;
        }

        /* --- GLOBAL STYLES --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            position: relative; /* Penting untuk positioning jika diperlukan */
            min-height: 90vh; /* Agar footer tidak terlalu naik jika konten sedikit */
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            margin-bottom: 25px;
            margin-top: 20px;
        }

        h1 {
            font-size: 26px;
            font-weight: 800;
            margin: 0 0 5px 0;
            color: var(--text-main);
        }

        p.subtitle {
            font-size: 13px;
            color: var(--text-sec);
            margin: 0;
        }

        /* --- SEARCH BOX --- */
        .search-container {
            position: sticky;
            top: 10px;
            z-index: 100;
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 16px;
            font-size: 17px;
            border: none;
            border-radius: 14px;
            background: #FFFFFF;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            box-sizing: border-box;
            outline: none;
            transition: all 0.2s ease;
            text-align: center; /* Teks tengah agar fokus */
        }

        .search-box:focus {
            box-shadow: 0 4px 20px rgba(0, 122, 255, 0.15);
            transform: scale(1.01);
            text-align: left; /* Geser kiri saat mengetik */
        }

        .search-box::placeholder {
            color: #C7C7CC;
        }

        /* --- PRODUCT CARDS --- */
        .price-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-bottom: 20px;
            flex-grow: 1; /* Mendorong footer ke bawah */
        }

        .card {
            background: var(--card);
            padding: 16px;
            border-radius: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03);
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .info-col {
            flex: 1;
        }

        .model-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .storage-lbl {
            font-size: 12px;
            color: var(--text-sec);
            background: #F2F2F7;
            padding: 3px 8px;
            border-radius: 6px;
            display: inline-block;
            font-weight: 500;
        }

        .price-col {
            text-align: right;
        }

        .price-final {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
        }

        .price-normal {
            font-size: 11px;
            color: var(--text-sec);
            text-decoration: line-through;
            margin-bottom: 2px;
        }

        .badge-new {
            font-size: 9px;
            background-color: #007AFF;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 6px;
            vertical-align: middle;
            font-weight: 700;
        }

        /* --- STATES (Instruction & Empty) --- */
        .state-message {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-sec);
            display: none; /* Default hidden */
        }

        .state-message img {
            width: 60px;
            opacity: 0.3;
            margin-bottom: 15px;
        }

        .state-message p {
            margin: 0;
            font-size: 15px;
        }

        .visible {
            display: block;
        }

        /* --- DEVELOPER FOOTER --- */
        .developer-credit {
            text-align: right;
            font-size: 11px;
            color: var(--text-sec);
            margin-top: 20px;
            margin-bottom: 10px;
            opacity: 0.6;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Cek Harga iPhone</h1>
        <p class="subtitle">Update: 5 Desember 2025</p>
    </header>

    <div class="search-container">
        <input type="search" id="searchInput" class="search-box" placeholder="Ketik tipe iPhone di sini..." autocomplete="off">
    </div>

    <div id="instructionState" class="state-message visible">
        <div style="font-size: 40px; opacity: 0.3; margin-bottom: 10px;">üîç</div>
        <p>Ketik tipe iPhone (misal: <strong>13, 16 Pro</strong>) untuk melihat harga.</p>
    </div>

    <div id="iphoneList" class="price-list"></div>
    
    <div id="emptyState" class="state-message">
        <div style="font-size: 40px; opacity: 0.3; margin-bottom: 10px;">‚ùå</div>
        <p>Tipe iPhone tidak ditemukan.</p>
    </div>

    <div class="developer-credit">Developer @arie96s</div>
</div>

<script>
    // === DATABASE HARGA (LENGKAP) ===
    const products = [
        // iPhone 13
        { name: "iPhone 13", rom: "128GB", normal: 12499000, promo: 8249000 },

        // iPhone 14
        { name: "iPhone 14", rom: "128GB", normal: 14499000, promo: 9749000 },
        { name: "iPhone 14", rom: "256GB", normal: 18299000, promo: 11499000 },

        // iPhone 15 Series
        { name: "iPhone 15", rom: "128GB", normal: 16999000, promo: 10999000 },
        { name: "iPhone 15", rom: "256GB", normal: 19999000, promo: 13249000 },
        { name: "iPhone 15", rom: "512GB", normal: 23999000, promo: 16999000 },
        { name: "iPhone 15 Plus", rom: "128GB", normal: 18999000, promo: 13499000 },
        { name: "iPhone 15 Plus", rom: "256GB", normal: 21999000, promo: 15999000 },

        // iPhone 16e
        { name: "iPhone 16e", rom: "128GB", normal: 12749000, promo: 10999000, tag: "NEW" },
        { name: "iPhone 16e", rom: "256GB", normal: 15249000, promo: 13499000, tag: "NEW" },
        { name: "iPhone 16e", rom: "512GB", normal: 19249000, promo: 17499000, tag: "NEW" },

        // iPhone 16 Series
        { name: "iPhone 16", rom: "128GB", normal: 14999000, promo: 14999000 },
        { name: "iPhone 16", rom: "256GB", normal: 17499000, promo: 15999000 },
        { name: "iPhone 16", rom: "512GB", normal: 21999000, promo: 19999000 },
        { name: "iPhone 16 Plus", rom: "128GB", normal: 17249000, promo: 15999000 },
        { name: "iPhone 16 Plus", rom: "256GB", normal: 19749000, promo: 18499000 },
        { name: "iPhone 16 Plus", rom: "512GB", normal: 23999000, promo: 20999000 },

        // iPhone 16 Pro Series
        { name: "iPhone 16 Pro", rom: "128GB", normal: 18749000, promo: 17499000 },
        { name: "iPhone 16 Pro", rom: "256GB", normal: 21749000, promo: 19999000 },
        { name: "iPhone 16 Pro", rom: "512GB", normal: 26249000, promo: 23499000 },
        { name: "iPhone 16 Pro", rom: "1TB", normal: 30749000, promo: 27999000 },
        { name: "iPhone 16 Pro Max", rom: "256GB", normal: 22749000, promo: 21499000 },
        { name: "iPhone 16 Pro Max", rom: "512GB", normal: 28249000, promo: 25499000 },
        { name: "iPhone 16 Pro Max", rom: "1TB", normal: 33249000, promo: 29499000 },

        // Future Models (17 & Air)
        { name: "iPhone 17", rom: "256GB", normal: 17249000, promo: 17249000, tag: "NEW" },
        { name: "iPhone 17", rom: "512GB", normal: 21999000, promo: 21999000, tag: "NEW" },
        { name: "iPhone Air", rom: "256GB", normal: 21249000, promo: 21249000, tag: "NEW" },
        { name: "iPhone Air", rom: "512GB", normal: 25999000, promo: 25999000, tag: "NEW" },
        { name: "iPhone Air", rom: "1TB", normal: 30249000, promo: 30249000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "256GB", normal: 23749000, promo: 23749000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "512GB", normal: 28249000, promo: 28249000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "1TB", normal: 32999000, promo: 32999000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "256GB", normal: 25749000, promo: 25749000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "512GB", normal: 30249000, promo: 30249000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "1TB", normal: 34999000, promo: 34999000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "2TB", normal: 43999000, promo: 43999000, tag: "NEW" },
    ];

    // === DOM ELEMENTS ===
    const listContainer = document.getElementById('iphoneList');
    const searchInput = document.getElementById('searchInput');
    const instructionState = document.getElementById('instructionState');
    const emptyState = document.getElementById('emptyState');

    // === FORMAT RUPIAH ===
    const formatIDR = (num) => {
        return new Intl.NumberFormat('id-ID', {
            style: 'currency',
            currency: 'IDR',
            minimumFractionDigits: 0
        }).format(num).replace(/\s/g, ''); 
    };

    // === RENDER FUNCTION ===
    function renderList(data) {
        listContainer.innerHTML = ''; // Reset list
        
        data.forEach(item => {
            const badge = item.tag ? `<span class="badge-new">${item.tag}</span>` : '';
            const isDiscount = item.promo < item.normal;
            const normalPrice = isDiscount ? `<div class="price-normal">${formatIDR(item.normal)}</div>` : '';

            const html = `
                <div class="card">
                    <div class="info-col">
                        <div class="model-name">${item.name} ${badge}</div>
                        <span class="storage-lbl">${item.rom}</span>
                    </div>
                    <div class="price-col">
                        ${normalPrice}
                        <div class="price-final">${formatIDR(item.promo)}</div>
                    </div>
                </div>
            `;
            listContainer.insertAdjacentHTML('beforeend', html);
        });
    }

    // === LOGIC UTAMA (EVENT LISTENER) ===
    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase().trim();
        
        // KONDISI 1: Kolom Pencarian Kosong
        if (query.length === 0) {
            instructionState.classList.add('visible'); // Munculkan instruksi
            listContainer.innerHTML = '';              // Hapus daftar
            emptyState.classList.remove('visible');    // Sembunyikan "tidak ditemukan"
            return;
        }

        // KONDISI 2: Ada Input, Lakukan Filter
        instructionState.classList.remove('visible'); // Sembunyikan instruksi
        
        const filtered = products.filter(item => 
            item.name.toLowerCase().includes(query) || 
            item.rom.toLowerCase().includes(query)
        );

        // KONDISI 3: Hasil Filter Kosong atau Ada
        if (filtered.length === 0) {
            listContainer.innerHTML = '';
            emptyState.classList.add('visible');
        } else {
            emptyState.classList.remove('visible');
            renderList(filtered);
        }
    });

</script>

</body>
</html>
