<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ePrice | Digimap Citimall Dumai</title>
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #007AFF;
            --glass-bg: rgba(255, 255, 255, 0.65);
            --glass-border: rgba(255, 255, 255, 0.8);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            --text-main: #1C1C1E;
            --text-sec: #6e6e73;
            --input-bg: rgba(255, 255, 255, 0.4);
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --card-overlap: -15px; 
        }

        /* --- DARK MODE VARIABLES --- */
        body.dark-mode {
            --glass-bg: rgba(20, 20, 20, 0.65);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            --text-main: #FFFFFF;
            --text-sec: #A1A1A6;
            --input-bg: rgba(0, 0, 0, 0.3);
            --bg-gradient: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
        }

        /* --- GLOBAL STYLES --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-gradient);
            background-attachment: fixed;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            -webkit-tap-highlight-color: transparent;
            min-height: 100vh;
            transition: background 0.5s ease;
            overflow-x: hidden;
            padding-bottom: 40px;
        }

        /* --- BACKGROUND ANIMATED BLOB --- */
        .blob-cont {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        .blob {
            position: absolute;
            width: 300px; height: 300px;
            background: var(--primary);
            filter: blur(80px);
            opacity: 0.4;
            border-radius: 50%;
            animation: moveBlob 20s infinite alternate;
        }
        @keyframes moveBlob {
            from { transform: translate(-50px, -50px) rotate(0deg); }
            to { transform: translate(100vw, 80vh) rotate(360deg); }
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- THEME TOGGLE (FLOATING CAPSULE) --- */
        .theme-capsule {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 60px;
            height: 34px;
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            box-shadow: var(--glass-shadow);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Theme Circle: White/Black Ball */
        .theme-circle {
            width: 26px;
            height: 26px;
            background: #ffffff; 
            border: 1px solid rgba(0,0,0,0.15);
            border-radius: 50%;
            position: absolute;
            top: 3px;
            left: 4px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        body.dark-mode .theme-circle {
            transform: translateX(26px);
            background: #000000;
            border-color: rgba(255,255,255,0.3);
        }

        /* --- HEADER & LOGO --- */
        header {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .logo-wrapper {
            position: relative;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }

        .logo-img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2));
        }

        .update-info {
            font-size: 11px;
            color: var(--text-sec);
            font-weight: 500;
            letter-spacing: 0.5px;
            opacity: 0.8;
        }

        /* State: Default (Apple) */
        .logo-apple { opacity: 1; transform: scale(1) rotate(0deg); }
        .logo-digimap { opacity: 0; transform: scale(0.5) rotate(-20deg); }

        /* State: Morphing (Active) */
        .morph-active .logo-apple { opacity: 0; transform: scale(0.5) rotate(20deg); filter: blur(10px); }
        .morph-active .logo-digimap { opacity: 1; transform: scale(1.2) rotate(0deg); }

        /* --- EXPANDING SEARCH BOX --- */
        .search-container {
            width: 100%;
            position: sticky;
            top: 20px;
            z-index: 100;
            margin-bottom: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60px;
        }

        .search-box {
            width: 160px; 
            padding: 12px 20px;
            font-size: 15px;
            border: 1px solid var(--glass-border);
            border-top: 1px solid rgba(255,255,255,0.9);
            background: var(--input-bg);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border-radius: 50px;
            box-shadow: 
                0 8px 20px rgba(0,0,0,0.1),
                inset 0 0 0 1px rgba(255,255,255,0.2);
            color: var(--text-main);
            outline: none;
            text-align: center;
            font-weight: 500;
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .search-box::placeholder {
            color: var(--text-sec);
            opacity: 0.8;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        /* State: Active / Focus */
        .search-box:focus {
            width: 100%;
            background: var(--glass-bg);
            text-align: left;
            padding-left: 25px;
            transform: translateY(-2px);
            box-shadow: 
                0 20px 50px -10px rgba(0, 122, 255, 0.25),
                inset 0 0 0 1.5px var(--primary);
            border-color: rgba(255,255,255,0.5);
        }

        .search-box:focus::placeholder {
            opacity: 0.5;
        }

        /* --- PRODUCT LIST --- */
        .price-list {
            width: 100%;
            display: flex;
            flex-direction: column;
            padding-bottom: 50px;
            perspective: 1000px;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            padding: 20px;
            border-radius: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--card-overlap);
            box-shadow: 
                0 -5px 20px rgba(0,0,0,0.05),
                0 10px 30px rgba(0,0,0,0.1);
            opacity: 0;
            transform-origin: center top;
            transform: translateY(50px) scale(0.9) rotateX(-10deg);
            transition: transform 0.3s ease, background 0.3s;
        }

        @keyframes cardEntrance {
            0% { opacity: 0; transform: translateY(100px) scale(0.8); }
            60% { opacity: 1; transform: translateY(-10px) scale(1.02); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        .card.animate {
            animation: cardEntrance 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        .card:hover {
            z-index: 10;
            transform: translateY(-15px) scale(1.03) !important;
            background: rgba(255, 255, 255, 0.85);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        body.dark-mode .card:hover {
            background: rgba(40, 40, 40, 0.85);
        }

        .info-col { flex: 1; }
        .model-name {
            font-size: 17px;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 6px;
        }
        
        .storage-lbl {
            font-size: 10px;
            color: var(--text-sec);
            background: rgba(128,128,128,0.1);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
            text-transform: uppercase;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .price-col { text-align: right; }
        .price-final {
            font-size: 17px;
            font-weight: 800;
            color: var(--primary);
            text-shadow: 0 2px 10px rgba(0, 122, 255, 0.2);
        }
        .price-normal {
            font-size: 11px;
            color: var(--text-sec);
            text-decoration: line-through;
            opacity: 0.7;
        }

        .badge-new {
            font-size: 9px;
            background: linear-gradient(135deg, #FF3B30, #ff6b6b);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            margin-left: 6px;
            font-weight: 800;
            box-shadow: 0 2px 10px rgba(255, 59, 48, 0.4);
        }

        /* --- FOOTER & EMPTY STATE --- */
        .footer-dev {
            position: fixed;
            bottom: 15px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 11px;
            color: var(--text-sec);
            opacity: 0.6;
            font-weight: 500;
            pointer-events: none;
            z-index: 50;
        }

        .state-message {
            text-align: center;
            padding: 50px 20px;
            color: var(--text-sec);
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .visible { display: block; }
        
        .instruction-icon {
            font-size: 50px; 
            margin-bottom: 15px; 
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.1));
        }

    </style>
</head>
<body>

<div class="blob-cont">
    <div class="blob"></div>
</div>

<div class="theme-capsule" id="themeToggle">
    <div class="theme-circle" id="themeIcon"></div>
</div>

<div class="container">
    
    <header>
        <div class="logo-wrapper" id="logoContainer">
            <img src="logo_apple.png" alt="Apple" class="logo-img logo-apple" onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg'">
            <img src="digimap_dumai.png" alt="Digimap" class="logo-img logo-digimap" onerror="this.style.display='none'">
        </div>
        <div class="update-info">(UPDATE 28 DESEMBER 2025)</div>
    </header>

    <div class="search-container">
        <input type="search" id="searchInput" class="search-box" placeholder="Cek harga..." autocomplete="off">
    </div>

    <div id="iphoneList" class="price-list"></div>
    
    <div id="emptyState" class="state-message">
        <div class="instruction-icon">üå´Ô∏è</div>
        <p>Produk tidak ditemukan.</p>
    </div>

</div>

<div class="footer-dev">Developer | @arie96s | Fajri Salam</div>

<script>
    // === DATABASE HARGA (UPDATED 28 DESEMBER 2025) ===
    const products = [
        // --- MACBOOK AIR ---
        { name: "Macbook Air 13 M1", rom: "8/256GB", normal: 16699000, promo: 11299000 },
        { name: "Macbook Air 13 M2", rom: "8/256GB", normal: 19999000, promo: 13299000 },
        { name: "Macbook Air 13 M2", rom: "8/512GB", normal: 25499000, promo: 16799000 },
        { name: "Macbook Air 13 M2", rom: "16/256GB", normal: 16999000, promo: 13599000, tag: "NEW" },
        { name: "Macbook Air 13 M4", rom: "16/256GB", normal: 17999000, promo: 17499000, tag: "NEW" },
        { name: "Macbook Air 13 M4", rom: "16/512GB", normal: 21499000, promo: 20999000, tag: "NEW" },
        { name: "Macbook Air 13 M4", rom: "24/512GB", normal: 24999000, promo: 24499000, tag: "NEW" },
        { name: "Macbook Air 15 M4", rom: "16/256GB", normal: 21499000, promo: 20999000, tag: "NEW" },
        { name: "Macbook Air 15 M4", rom: "16/512GB", normal: 24999000, promo: 24499000, tag: "NEW" },
        { name: "Macbook Air 15 M4", rom: "24/512GB", normal: 28499000, promo: 27999000, tag: "NEW" },

        // --- MACBOOK PRO M5 & M4 ---
        { name: "Macbook Pro 14 M5", rom: "16/512GB", normal: 27999000, promo: 27999000, tag: "NEW" },
        { name: "Macbook Pro 14 M5", rom: "16GB/1TB", normal: 31499000, promo: 31499000, tag: "NEW" },
        { name: "Macbook Pro 14 M5", rom: "24GB/1TB", normal: 34999000, promo: 34999000, tag: "NEW" },
        { name: "Macbook Pro 14 M4 Pro", rom: "24/512GB", normal: 34999000, promo: 34499000 },
        { name: "Macbook Pro 14 M4 Pro", rom: "24GB/1TB", normal: 41999000, promo: 41499000 },
        { name: "Macbook Pro 14 M4 Max", rom: "36GB/1TB", normal: 56499000, promo: 55999000 },
        { name: "Macbook Pro 16 M4 Pro", rom: "24/512GB", normal: 42999000, promo: 41999000 },
        { name: "Macbook Pro 16 M4 Pro", rom: "48/512GB", normal: 49499000, promo: 48499000 },
        { name: "Macbook Pro 16 M4 Max", rom: "36GB/1TB", normal: 59999000, promo: 58999000 },
        { name: "Macbook Pro 16 M4 Max", rom: "48GB/1TB", normal: 68499000, promo: 67499000 },

        // --- DESKTOP MAC (MINI, IMAC, STUDIO) ---
        { name: "Mac Mini M4", rom: "16/256GB", normal: 9999000, promo: 9999000, tag: "NEW" },
        { name: "Mac Mini M4", rom: "16/512GB", normal: 13249000, promo: 13249000, tag: "NEW" },
        { name: "Mac Mini M4", rom: "24/512GB", normal: 16499000, promo: 16499000, tag: "NEW" },
        { name: "Mac Mini M4 Pro", rom: "24/512GB", normal: 23999000, promo: 23499000, tag: "NEW" },
        { name: "iMac 24 M4", rom: "16/256GB", normal: 21999000, promo: 21999000, tag: "NEW" },
        { name: "iMac 24 M4", rom: "10C/16/256GB", normal: 25249000, promo: 25249000, tag: "NEW" },
        { name: "iMac 24 M4", rom: "10C/16/256GB NT", normal: 28499000, promo: 28499000, tag: "NEW" },
        { name: "iMac 24 M4", rom: "24/512GB", normal: 31749000, promo: 31749000, tag: "NEW" },
        { name: "Mac Studio M4", rom: "36/512GB", normal: 34999000, promo: 34999000, tag: "NEW" },
        { name: "Mac Studio M4 Ultra", rom: "96GB/1TB", normal: 69999000, promo: 69999000, tag: "NEW" },

        // --- IPAD MINI 7 ---
        { name: "iPad Mini 7", rom: "WiFi 128GB", normal: 9899000, promo: 10099000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "WiFi 256GB", normal: 11899000, promo: 11349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "WiFi 512GB", normal: 15899000, promo: 15349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 128GB", normal: 12799000, promo: 12349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 256GB", normal: 14799000, promo: 14349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 512GB", normal: 18799000, promo: 18349000, tag: "NEW" },

        // --- IPAD PRO M5 ---
        { name: "iPad Pro 11 M5", rom: "WiFi 256GB", normal: 20499000, promo: 20499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 512GB", normal: 24499000, promo: 24499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 1TB", normal: 32499000, promo: 32499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 2TB", normal: 39999000, promo: 39999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 256GB", normal: 23999000, promo: 23999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 512GB", normal: 27999000, promo: 27999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 1TB", normal: 35499000, promo: 35499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 2TB", normal: 43499000, promo: 43499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 Nano", rom: "WiFi 1TB", normal: 34499000, promo: 34499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 Nano", rom: "WiFi 2TB", normal: 42499000, promo: 42499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 Nano", rom: "Cell 1TB", normal: 37499000, promo: 37499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 Nano", rom: "Cell 2TB", normal: 45499000, promo: 45499000, tag: "NEW" },
        
        { name: "iPad Pro 13 M5", rom: "WiFi 256GB", normal: 26999000, promo: 26999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 512GB", normal: 30999000, promo: 30999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 1TB", normal: 38999000, promo: 38999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 2TB", normal: 46999000, promo: 46999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 256GB", normal: 30999000, promo: 30999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 512GB", normal: 34499000, promo: 34499000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 1TB", normal: 42499000, promo: 42499000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 2TB", normal: 50499000, promo: 50499000, tag: "NEW" },
        { name: "iPad Pro 13 M5 Nano", rom: "WiFi 1TB", normal: 40999000, promo: 40999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 Nano", rom: "WiFi 2TB", normal: 48999000, promo: 48999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 Nano", rom: "Cell 1TB", normal: 44999000, promo: 44999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 Nano", rom: "Cell 2TB", normal: 52999000, promo: 52999000, tag: "NEW" },

        // --- IPAD AIR M3 ---
        { name: "iPad Air 11 M3", rom: "WiFi 128GB", normal: 11999000, promo: 11699000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "WiFi 256GB", normal: 13999000, promo: 13499000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "WiFi 512GB", normal: 17999000, promo: 17499000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "WiFi 1TB", normal: 22499000, promo: 21999000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "Cell 128GB", normal: 14999000, promo: 14499000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "Cell 256GB", normal: 16999000, promo: 16499000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "Cell 512GB", normal: 20999000, promo: 20499000, tag: "NEW" },
        { name: "iPad Air 11 M3", rom: "Cell 1TB", normal: 25499000, promo: 24999000, tag: "NEW" },
        
        { name: "iPad Air 13 M3", rom: "WiFi 128GB", normal: 15499000, promo: 15399000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "WiFi 256GB", normal: 17999000, promo: 17499000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "WiFi 512GB", normal: 21999000, promo: 21499000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "WiFi 1TB", normal: 25999000, promo: 25499000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "Cell 128GB", normal: 19499000, promo: 18999000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "Cell 256GB", normal: 21499000, promo: 20999000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "Cell 512GB", normal: 25499000, promo: 24999000, tag: "NEW" },
        { name: "iPad Air 13 M3", rom: "Cell 1TB", normal: 29499000, promo: 28999000, tag: "NEW" },

        // --- IPAD BASIC ---
        { name: "iPad 10th Gen", rom: "WiFi 64GB", normal: 8449000, promo: 4499000 },
        { name: "iPad 10th Gen", rom: "WiFi 256GB", normal: 11449000, promo: 6499000 },
        { name: "iPad 10th Gen", rom: "Cell 64GB", normal: 11449000, promo: 6499000 },
        { name: "iPad 10th Gen", rom: "Cell 256GB", normal: 14449000, promo: 9499000 },
        
        { name: "iPad 11th Gen", rom: "WiFi 128GB", normal: 6999000, promo: 6899000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "WiFi 256GB", normal: 9499000, promo: 8699000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "WiFi 512GB", normal: 13499000, promo: 12699000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 128GB", normal: 11499000, promo: 9699000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 256GB", normal: 13499000, promo: 11699000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 512GB", normal: 17499000, promo: 15699000, tag: "NEW" },

        // --- APPLE WATCH ---
        { name: "Watch SE 2", rom: "40mm", normal: 4999000, promo: 3299000 },
        { name: "Watch SE 2", rom: "44mm", normal: 5499000, promo: 3799000 },
        { name: "Watch SE 3", rom: "40mm", normal: 4599000, promo: 4499000, tag: "NEW" },
        { name: "Watch SE 3", rom: "44mm", normal: 5199000, promo: 5099000, tag: "NEW" },
        { name: "Watch S10", rom: "42mm", normal: 7299000, promo: 5799000 },
        { name: "Watch S10", rom: "46mm", normal: 7899000, promo: 6299000 },
        { name: "Watch S11", rom: "42mm", normal: 7299000, promo: 7049000, tag: "NEW" },
        { name: "Watch S11", rom: "46mm", normal: 7899000, promo: 7649000, tag: "NEW" },
        { name: "Watch Ultra 2", rom: "49mm", normal: 15999000, promo: 12499000 },
        { name: "Watch Ultra 2", rom: "Milanese", normal: 17999000, promo: 14499000 },
        { name: "Watch Ultra 3", rom: "49mm", normal: 14999000, promo: 14999000, tag: "NEW" },
        { name: "Watch Ultra 3", rom: "Milanese", normal: 17499000, promo: 17499000, tag: "NEW" },

        // --- IPHONE 13, 14, 15 ---
        { name: "iPhone 13", rom: "128GB", normal: 12499000, promo: 7999000 },
        { name: "iPhone 13", rom: "256GB", normal: 14749000, promo: 11499000 },
        { name: "iPhone 14", rom: "128GB", normal: 14499000, promo: 9749000 },
        { name: "iPhone 14", rom: "256GB", normal: 18299000, promo: 11499000 },
        { name: "iPhone 14", rom: "512GB", normal: 21249000, promo: 15999000 },
        { name: "iPhone 15", rom: "128GB", normal: 16999000, promo: 10999000 },
        { name: "iPhone 15", rom: "256GB", normal: 19999000, promo: 13249000 },
        { name: "iPhone 15", rom: "512GB", normal: 23999000, promo: 16999000 },
        { name: "iPhone 15 Plus", rom: "128GB", normal: 18999000, promo: 13499000 },
        { name: "iPhone 15 Plus", rom: "256GB", normal: 21999000, promo: 15999000 },
        { name: "iPhone 15 Plus", rom: "512GB", normal: 25999000, promo: 18999000 },

        // --- IPHONE 16 SERIES ---
        { name: "iPhone 16e", rom: "128GB", normal: 12749000, promo: 10999000, tag: "NEW" },
        { name: "iPhone 16e", rom: "256GB", normal: 15249000, promo: 13499000, tag: "NEW" },
        { name: "iPhone 16e", rom: "512GB", normal: 19249000, promo: 17499000, tag: "NEW" },
        { name: "iPhone 16", rom: "128GB", normal: 14999000, promo: 13999000 },
        { name: "iPhone 16", rom: "256GB", normal: 17499000, promo: 14999000 },
        { name: "iPhone 16", rom: "512GB", normal: 21999000, promo: 18999000 },
        { name: "iPhone 16 Plus", rom: "128GB", normal: 17249000, promo: 15999000 },
        { name: "iPhone 16 Plus", rom: "256GB", normal: 19749000, promo: 18499000 },
        { name: "iPhone 16 Plus", rom: "512GB", normal: 23999000, promo: 20999000 },
        { name: "iPhone 16 Pro", rom: "128GB", normal: 18749000, promo: 17499000 },
        { name: "iPhone 16 Pro", rom: "256GB", normal: 21749000, promo: 19999000 },
        { name: "iPhone 16 Pro", rom: "512GB", normal: 26249000, promo: 23499000 },
        { name: "iPhone 16 Pro", rom: "1TB", normal: 30749000, promo: 27999000 },
        { name: "iPhone 16 Pro Max", rom: "256GB", normal: 22749000, promo: 21499000 },
        { name: "iPhone 16 Pro Max", rom: "512GB", normal: 28249000, promo: 25499000 },
        { name: "iPhone 16 Pro Max", rom: "1TB", normal: 33249000, promo: 29499000 },

        // --- IPHONE 17 & AIR (FUTURE) ---
        { name: "iPhone 17", rom: "256GB", normal: 17249000, promo: 16999000, tag: "NEW" },
        { name: "iPhone 17", rom: "512GB", normal: 21999000, promo: 21749000, tag: "NEW" },
        { name: "iPhone Air", rom: "256GB", normal: 21249000, promo: 17999000, tag: "NEW" },
        { name: "iPhone Air", rom: "512GB", normal: 25999000, promo: 22749000, tag: "NEW" },
        { name: "iPhone Air", rom: "1TB", normal: 30249000, promo: 26999000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "256GB", normal: 23749000, promo: 23499000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "512GB", normal: 28249000, promo: 27999000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "1TB", normal: 32999000, promo: 32749000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "256GB", normal: 25749000, promo: 25499000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "512GB", normal: 30249000, promo: 29999000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "1TB", normal: 34999000, promo: 34749000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "2TB", normal: 43999000, promo: 43749000, tag: "NEW" }
    ];

    // === DOM ELEMENTS ===
    const listContainer = document.getElementById('iphoneList');
    const searchInput = document.getElementById('searchInput');
    const emptyState = document.getElementById('emptyState');
    const themeToggle = document.getElementById('themeToggle');
    // const themeIcon = document.getElementById('themeIcon'); // Tidak lagi dimanipulasi teksnya

    // === DARK MODE LOGIC (MODIFIED) ===
    const savedTheme = localStorage.getItem('theme');
    
    // REQUEST: Light Mode = Bola Putih, Dark Mode = Bola Hitam (Diatur via CSS)
    const setDarkMode = (isDark) => {
        if (isDark) {
            document.body.classList.add('dark-mode');
            // themeIcon.textContent = 'üåô';  <-- HAPUS
        } else {
            document.body.classList.remove('dark-mode');
            // themeIcon.textContent = '‚òÄÔ∏è';  <-- HAPUS
        }
    };

    if (savedTheme === 'dark') setDarkMode(true);

    themeToggle.addEventListener('click', () => {
        const isDark = document.body.classList.toggle('dark-mode');
        setDarkMode(isDark);
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // === FORMAT RUPIAH ===
    const formatIDR = (num) => {
        return new Intl.NumberFormat('id-ID', {
            style: 'currency',
            currency: 'IDR',
            minimumFractionDigits: 0
        }).format(num).replace(/\s/g, ''); 
    };

    // === RENDER FUNCTION WITH ANIMATION ===
    function renderList(data) {
        listContainer.innerHTML = ''; // Reset list
        
        data.forEach((item, index) => {
            const badge = item.tag ? `<span class="badge-new">${item.tag}</span>` : '';
            const isDiscount = item.promo < item.normal;
            const normalPrice = (isDiscount && item.normal > 0) ? `<div class="price-normal">${formatIDR(item.normal)}</div>` : '';

            const delay = index * 0.05; 
            const zIndex = 100 - index;

            const html = `
                <div class="card animate" style="animation-delay: ${delay}s; z-index: ${zIndex};">
                    <div class="info-col">
                        <div class="model-name">${item.name} ${badge}</div>
                        <span class="storage-lbl">${item.rom}</span>
                    </div>
                    <div class="price-col">
                        ${normalPrice}
                        <div class="price-final">${formatIDR(item.promo)}</div>
                    </div>
                </div>
            `;
            listContainer.insertAdjacentHTML('beforeend', html);
        });
    }

    // === LOGO MORPH LOGIC ===
    function handleLogoState(isSearching) {
        if (isSearching) {
            logoContainer.classList.add('morph-active');
        } else {
            logoContainer.classList.remove('morph-active');
        }
    }

    // === SEARCH EVENT LISTENER (Memicu Morphing saat Ketik) ===
    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase().trim();
        
        if (query.length > 0) {
            handleLogoState(true);
        } else {
            handleLogoState(false);
        }

        // Jika kosong, Hapus list
        if (query.length === 0) {
            listContainer.innerHTML = '';
            emptyState.classList.remove('visible');
            return;
        }

        const filtered = products.filter(item => 
            item.name.toLowerCase().includes(query) || 
            item.rom.toLowerCase().includes(query)
        );

        if (filtered.length === 0) {
            listContainer.innerHTML = '';
            emptyState.classList.add('visible');
        } else {
            emptyState.classList.remove('visible');
            renderList(filtered);
        }
    });

    // === SEARCH FOCUS EVENT (Memicu Morphing saat Tap) ===
    searchInput.addEventListener('focus', () => {
        handleLogoState(true);
    });

    searchInput.addEventListener('blur', (e) => {
        if (e.target.value.trim().length === 0) {
            handleLogoState(false);
        }
    });

</script>

</body>
</html>
