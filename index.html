<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ePrice | M225</title>
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #007AFF;
            --bg: #F2F2F7;
            --card: #FFFFFF;
            --text-main: #1C1C1E;
            --text-sec: #8E8E93;
            --input-bg: #FFFFFF;
            --shadow: rgba(0, 0, 0, 0.05);
        }

        /* --- DARK MODE VARIABLES --- */
        body.dark-mode {
            --bg: #000000;
            --card: #1C1C1E;
            --text-main: #FFFFFF;
            --text-sec: #98989D;
            --input-bg: #1C1C1E;
            --shadow: rgba(255, 255, 255, 0.05);
        }

        /* --- GLOBAL STYLES --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            min-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            margin-bottom: 25px;
            margin-top: 20px;
            position: relative;
        }

        h1 {
            font-size: 26px;
            font-weight: 800;
            margin: 0 0 5px 0;
            color: var(--text-main);
        }

        p.subtitle {
            font-size: 13px;
            color: var(--text-sec);
            margin: 0;
        }

        /* --- DARK MODE TOGGLE --- */
        .theme-toggle {
            position: absolute;
            top: 0;
            right: 0;
            background: var(--card);
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            font-size: 20px;
            box-shadow: 0 2px 8px var(--shadow);
            color: var(--text-main);
            transition: transform 0.2s;
        }
        
        .theme-toggle:active {
            transform: scale(0.9);
        }

        /* --- SEARCH BOX --- */
        .search-container {
            position: sticky;
            top: 10px;
            z-index: 100;
            margin-bottom: 20px;
        }

        .search-box {
            width: 100%;
            padding: 16px;
            font-size: 17px;
            border: none;
            border-radius: 14px;
            background: var(--input-bg);
            box-shadow: 0 4px 15px var(--shadow);
            box-sizing: border-box;
            outline: none;
            transition: all 0.2s ease;
            text-align: center;
            color: var(--text-main);
        }

        .search-box:focus {
            box-shadow: 0 4px 20px rgba(0, 122, 255, 0.15);
            transform: scale(1.01);
            text-align: left;
        }

        .search-box::placeholder {
            color: #C7C7CC;
        }

        /* --- PRODUCT CARDS --- */
        .price-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-bottom: 20px;
            flex-grow: 1;
        }

        .card {
            background: var(--card);
            padding: 16px;
            border-radius: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px var(--shadow);
            animation: slideUp 0.3s ease-out;
            transition: background 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .info-col {
            flex: 1;
            padding-right: 10px;
        }

        .model-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .storage-lbl {
            font-size: 11px;
            color: var(--text-sec);
            background: var(--bg);
            padding: 3px 8px;
            border-radius: 6px;
            display: inline-block;
            font-weight: 500;
            margin-top: 2px;
        }

        .price-col {
            text-align: right;
            min-width: 100px;
        }

        .price-final {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
        }

        .price-normal {
            font-size: 11px;
            color: var(--text-sec);
            text-decoration: line-through;
            margin-bottom: 2px;
        }

        .badge-new {
            font-size: 9px;
            background-color: #FF3B30;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 6px;
            vertical-align: middle;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .badge-blue {
            background-color: #007AFF;
        }

        /* --- STATES --- */
        .state-message {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-sec);
            display: none;
        }

        .state-message img {
            width: 60px;
            opacity: 0.3;
            margin-bottom: 15px;
        }

        .state-message p {
            margin: 0;
            font-size: 15px;
        }

        .visible {
            display: block;
        }

        /* --- DEVELOPER FOOTER --- */
        .developer-credit {
            text-align: right;
            font-size: 11px;
            color: var(--text-sec);
            margin-top: 20px;
            margin-bottom: 10px;
            opacity: 0.6;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <button id="themeToggle" class="theme-toggle" aria-label="Toggle Dark Mode">üåô</button>
        <h1>ePrice | M225</h1>
        <p class="subtitle">Price List Update: 23 Desember 2025</p>
    </header>

    <div class="search-container">
        <input type="search" id="searchInput" class="search-box" placeholder="Cari produk (16, iPad, Mac)..." autocomplete="off">
    </div>

    <div id="instructionState" class="state-message visible">
        <div style="font-size: 40px; opacity: 0.3; margin-bottom: 10px;">Ô£ø</div>
        <p>Ketik tipe produk (misal: <strong>16 Pro, M4, iPad Mini</strong>) untuk melihat harga.</p>
    </div>

    <div id="iphoneList" class="price-list"></div>
    
    <div id="emptyState" class="state-message">
        <div style="font-size: 40px; opacity: 0.3; margin-bottom: 10px;">‚ùå</div>
        <p>Produk tidak ditemukan.</p>
    </div>

    <div class="developer-credit">Developer @arie96s</div>
</div>

<script>
    // === DATABASE HARGA (SESUAI FILE XLS 23 DESEMBER 2025) ===
    const products = [
        // --- IPHONE 17 SERIES (NEW) ---
        { name: "iPhone 17", rom: "256GB", normal: 17249000, promo: 17249000, tag: "NEW" },
        { name: "iPhone 17", rom: "512GB", normal: 21999000, promo: 21999000, tag: "NEW" },
        
        { name: "iPhone Air", rom: "256GB", normal: 21249000, promo: 21249000, tag: "NEW" },
        { name: "iPhone Air", rom: "512GB", normal: 25999000, promo: 25999000, tag: "NEW" },
        { name: "iPhone Air", rom: "1TB", normal: 30249000, promo: 30249000, tag: "NEW" },

        { name: "iPhone 17 Pro", rom: "256GB", normal: 23749000, promo: 23749000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "512GB", normal: 28249000, promo: 28249000, tag: "NEW" },
        { name: "iPhone 17 Pro", rom: "1TB", normal: 32999000, promo: 32999000, tag: "NEW" },

        { name: "iPhone 17 Pro Max", rom: "256GB", normal: 25749000, promo: 25749000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "512GB", normal: 30249000, promo: 30249000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "1TB", normal: 34999000, promo: 34999000, tag: "NEW" },
        { name: "iPhone 17 Pro Max", rom: "2TB", normal: 43999000, promo: 43999000, tag: "NEW" },

        // --- IPHONE 16 SERIES ---
        { name: "iPhone 16e", rom: "128GB", normal: 12749000, promo: 10999000 },
        { name: "iPhone 16e", rom: "256GB", normal: 15249000, promo: 13499000 },
        { name: "iPhone 16e", rom: "512GB", normal: 19249000, promo: 17499000 },

        { name: "iPhone 16", rom: "128GB", normal: 14999000, promo: 14999000 },
        { name: "iPhone 16", rom: "256GB", normal: 17499000, promo: 15999000 },
        { name: "iPhone 16", rom: "512GB", normal: 21999000, promo: 19999000 },

        { name: "iPhone 16 Plus", rom: "128GB", normal: 17249000, promo: 15999000 },
        { name: "iPhone 16 Plus", rom: "256GB", normal: 19749000, promo: 18499000 },
        { name: "iPhone 16 Plus", rom: "512GB", normal: 23999000, promo: 20999000 },

        { name: "iPhone 16 Pro", rom: "128GB", normal: 18749000, promo: 17499000 },
        { name: "iPhone 16 Pro", rom: "256GB", normal: 21749000, promo: 19999000 },
        { name: "iPhone 16 Pro", rom: "512GB", normal: 26249000, promo: 23499000 },
        { name: "iPhone 16 Pro", rom: "1TB", normal: 30749000, promo: 27999000 },

        { name: "iPhone 16 Pro Max", rom: "256GB", normal: 22749000, promo: 21499000 },
        { name: "iPhone 16 Pro Max", rom: "512GB", normal: 28249000, promo: 25499000 },
        { name: "iPhone 16 Pro Max", rom: "1TB", normal: 33249000, promo: 29499000 },

        // --- IPHONE 15 SERIES ---
        { name: "iPhone 15", rom: "128GB", normal: 16999000, promo: 11249000 },
        { name: "iPhone 15", rom: "256GB", normal: 19999000, promo: 13749000 },
        { name: "iPhone 15", rom: "512GB", normal: 23999000, promo: 16999000 },

        { name: "iPhone 15 Plus", rom: "128GB", normal: 18999000, promo: 13499000 },
        { name: "iPhone 15 Plus", rom: "256GB", normal: 21999000, promo: 15999000 },
        { name: "iPhone 15 Plus", rom: "512GB", normal: 25999000, promo: 18999000 },

        // --- IPHONE 14 & 13 ---
        { name: "iPhone 14", rom: "128GB", normal: 14499000, promo: 9749000 },
        { name: "iPhone 14", rom: "256GB", normal: 18299000, promo: 11499000 },
        { name: "iPhone 14", rom: "512GB", normal: 21249000, promo: 15999000 },

        { name: "iPhone 13", rom: "128GB", normal: 12499000, promo: 8249000 },
        { name: "iPhone 13", rom: "256GB", normal: 0, promo: 0 },

        // --- IPAD PRO M5 (NEW) ---
        { name: "iPad Pro 11 M5", rom: "WiFi 256GB", normal: 20499000, promo: 20499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 512GB", normal: 24499000, promo: 24499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 1TB", normal: 32499000, promo: 32499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "WiFi 2TB", normal: 39999000, promo: 39999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 256GB", normal: 23999000, promo: 23999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 512GB", normal: 27999000, promo: 27999000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 1TB", normal: 35499000, promo: 35499000, tag: "NEW" },
        { name: "iPad Pro 11 M5", rom: "Cell 2TB", normal: 43499000, promo: 43499000, tag: "NEW" },

        { name: "iPad Pro 11 M5 (Nano)", rom: "WiFi 1TB", normal: 34499000, promo: 34499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 (Nano)", rom: "WiFi 2TB", normal: 42499000, promo: 42499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 (Nano)", rom: "Cell 1TB", normal: 37499000, promo: 37499000, tag: "NEW" },
        { name: "iPad Pro 11 M5 (Nano)", rom: "Cell 2TB", normal: 45499000, promo: 45499000, tag: "NEW" },

        { name: "iPad Pro 13 M5", rom: "WiFi 256GB", normal: 26999000, promo: 26999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 512GB", normal: 30999000, promo: 30999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 1TB", normal: 38999000, promo: 38999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "WiFi 2TB", normal: 46999000, promo: 46999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 256GB", normal: 30999000, promo: 30999000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 512GB", normal: 34499000, promo: 34499000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 1TB", normal: 42499000, promo: 42499000, tag: "NEW" },
        { name: "iPad Pro 13 M5", rom: "Cell 2TB", normal: 50499000, promo: 50499000, tag: "NEW" },

        { name: "iPad Pro 13 M5 (Nano)", rom: "WiFi 1TB", normal: 40999000, promo: 40999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 (Nano)", rom: "WiFi 2TB", normal: 48999000, promo: 48999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 (Nano)", rom: "Cell 1TB", normal: 44999000, promo: 44999000, tag: "NEW" },
        { name: "iPad Pro 13 M5 (Nano)", rom: "Cell 2TB", normal: 52999000, promo: 52999000, tag: "NEW" },

        // --- IPAD AIR M3 ---
        { name: "iPad Air 11 M3", rom: "WiFi 128GB", normal: 11999000, promo: 9249000 },
        { name: "iPad Air 11 M3", rom: "WiFi 256GB", normal: 13999000, promo: 11949000 },
        { name: "iPad Air 11 M3", rom: "WiFi 512GB", normal: 17999000, promo: 15949000 },
        { name: "iPad Air 11 M3", rom: "WiFi 1TB", normal: 22499000, promo: 20449000 },

        { name: "iPad Air 11 M3", rom: "Cell 128GB", normal: 14999000, promo: 12949000 },
        { name: "iPad Air 11 M3", rom: "Cell 256GB", normal: 16999000, promo: 14949000 },
        { name: "iPad Air 11 M3", rom: "Cell 512GB", normal: 20999000, promo: 18949000 },
        { name: "iPad Air 11 M3", rom: "Cell 1TB", normal: 25499000, promo: 23449000 },

        { name: "iPad Air 13 M3", rom: "WiFi 128GB", normal: 15499000, promo: 13449000 },
        { name: "iPad Air 13 M3", rom: "WiFi 256GB", normal: 17999000, promo: 16249000 },
        { name: "iPad Air 13 M3", rom: "WiFi 512GB", normal: 21999000, promo: 20249000 },
        { name: "iPad Air 13 M3", rom: "WiFi 1TB", normal: 25999000, promo: 24249000 },

        { name: "iPad Air 13 M3", rom: "Cell 128GB", normal: 19499000, promo: 17749000 },
        { name: "iPad Air 13 M3", rom: "Cell 256GB", normal: 21499000, promo: 19749000 },
        { name: "iPad Air 13 M3", rom: "Cell 512GB", normal: 25499000, promo: 23749000 },
        { name: "iPad Air 13 M3", rom: "Cell 1TB", normal: 29499000, promo: 27749000 },

        // --- IPAD MINI 7 (NEW) ---
        { name: "iPad Mini 7", rom: "WiFi 128GB", normal: 9899000, promo: 9399000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "WiFi 256GB", normal: 11899000, promo: 11349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "WiFi 512GB", normal: 15899000, promo: 15349000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 128GB", normal: 12799000, promo: 12249000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 256GB", normal: 14799000, promo: 14249000, tag: "NEW" },
        { name: "iPad Mini 7", rom: "Cell 512GB", normal: 18799000, promo: 18249000, tag: "NEW" },

        // --- IPAD BASIC ---
        { name: "iPad 10th Gen", rom: "WiFi 64GB", normal: 8449000, promo: 4499000 },
        { name: "iPad 10th Gen", rom: "WiFi 256GB", normal: 11449000, promo: 6499000 },
        { name: "iPad 10th Gen", rom: "Cell 64GB", normal: 11449000, promo: 6499000 },
        { name: "iPad 10th Gen", rom: "Cell 256GB", normal: 14449000, promo: 9499000 },

        { name: "iPad 11th Gen", rom: "WiFi 128GB", normal: 6999000, promo: 5999000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "WiFi 256GB", normal: 9499000, promo: 8199000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "WiFi 512GB", normal: 13499000, promo: 12199000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 128GB", normal: 11499000, promo: 9199000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 256GB", normal: 13499000, promo: 11199000, tag: "NEW" },
        { name: "iPad 11th Gen", rom: "Cell 512GB", normal: 17499000, promo: 15199000, tag: "NEW" },

        // --- MACBOOK ---
        { name: "Macbook Air 13 M1", rom: "8/256GB", normal: 16699000, promo: 11299000 },
        
        { name: "Macbook Air 13 M2", rom: "8/256GB", normal: 19999000, promo: 13299000 },
        { name: "Macbook Air 13 M2", rom: "8/512GB", normal: 25499000, promo: 16799000 },
        { name: "Macbook Air 13 M2 (New)", rom: "16/256GB", normal: 16999000, promo: 13299000 },

        { name: "Macbook Air 13 M4", rom: "16/256GB", normal: 17999000, promo: 16799000, tag: "NEW" },
        { name: "Macbook Air 13 M4", rom: "16/512GB", normal: 21499000, promo: 20299000, tag: "NEW" },
        { name: "Macbook Air 13 M4", rom: "24/512GB", normal: 24999000, promo: 23799000, tag: "NEW" },

        { name: "Macbook Air 15 M4", rom: "16/256GB", normal: 21499000, promo: 20899000, tag: "NEW" },
        { name: "Macbook Air 15 M4", rom: "16/512GB", normal: 24999000, promo: 24399000, tag: "NEW" },
        { name: "Macbook Air 15 M4", rom: "24/512GB", normal: 28499000, promo: 27899000, tag: "NEW" },

        // --- MACBOOK PRO M5 & M4 ---
        { name: "Macbook Pro 14 M5", rom: "16/512GB", normal: 27999000, promo: 27999000, tag: "NEW" },
        { name: "Macbook Pro 14 M5", rom: "16GB/1TB", normal: 31499000, promo: 31499000, tag: "NEW" },
        { name: "Macbook Pro 14 M5", rom: "24GB/1TB", normal: 34999000, promo: 34999000, tag: "NEW" },

        { name: "Macbook Pro 14 M4 Pro", rom: "24/512GB", normal: 34999000, promo: 34499000 },
        { name: "Macbook Pro 14 M4 Pro", rom: "24GB/1TB", normal: 41999000, promo: 41499000 },
        { name: "Macbook Pro 14 M4 Max", rom: "36GB/1TB", normal: 56499000, promo: 55999000 },

        { name: "Macbook Pro 16 M4 Pro", rom: "24/512GB", normal: 42999000, promo: 41999000 },
        { name: "Macbook Pro 16 M4 Pro", rom: "48/512GB", normal: 49499000, promo: 48499000 },
        { name: "Macbook Pro 16 M4 Max", rom: "36GB/1TB", normal: 59999000, promo: 58999000 },
        { name: "Macbook Pro 16 M4 Max", rom: "48GB/1TB", normal: 68499000, promo: 67499000 },

        // --- DESKTOP ---
        { name: "Mac Mini M4", rom: "16/256GB", normal: 9999000, promo: 9999000 },
        { name: "Mac Mini M4", rom: "16/512GB", normal: 13249000, promo: 13249000 },
        { name: "Mac Mini M4", rom: "24/512GB", normal: 16499000, promo: 16499000 },
        { name: "Mac Mini M4 Pro", rom: "24/512GB", normal: 23999000, promo: 23499000 },

        { name: "iMac 24 M4 (8C/8C)", rom: "16/256GB", normal: 21999000, promo: 21999000 },
        { name: "iMac 24 M4 (10C/10C)", rom: "16/256GB", normal: 25249000, promo: 25249000 },
        { name: "iMac 24 M4 (10C/10C)", rom: "16/256GB NT", normal: 28499000, promo: 28499000 },
        { name: "iMac 24 M4 (10C/10C)", rom: "24/512GB", normal: 31749000, promo: 31749000 },

        { name: "Mac Studio M4 Max", rom: "36/512GB", normal: 34999000, promo: 34999000 },
        { name: "Mac Studio M4 Ultra", rom: "96GB/1TB", normal: 69999000, promo: 69999000 },

        // --- APPLE WATCH ---
        { name: "Apple Watch SE 2", rom: "40mm", normal: 4999000, promo: 3299000 },
        { name: "Apple Watch SE 2", rom: "44mm", normal: 5499000, promo: 3799000 },
        
        { name: "Apple Watch SE 3", rom: "40mm", normal: 4599000, promo: 4349000, tag: "NEW" },
        { name: "Apple Watch SE 3", rom: "44mm", normal: 5199000, promo: 4949000, tag: "NEW" },

        { name: "Apple Watch S10", rom: "42mm", normal: 7299000, promo: 5799000 },
        { name: "Apple Watch S10", rom: "46mm", normal: 7899000, promo: 6299000 },

        { name: "Apple Watch S11", rom: "42mm", normal: 7299000, promo: 6149000, tag: "NEW" },
        { name: "Apple Watch S11", rom: "46mm", normal: 7899000, promo: 6749000, tag: "NEW" },

        { name: "Apple Watch Ultra 2", rom: "49mm", normal: 15999000, promo: 12499000 },
        { name: "Apple Watch Ultra 2", rom: "Titanium Milanese", normal: 17999000, promo: 14499000 },
        
        { name: "Apple Watch Ultra 3", rom: "49mm", normal: 14999000, promo: 14999000, tag: "NEW" },
        { name: "Apple Watch Ultra 3", rom: "Titanium Milanese", normal: 17499000, promo: 17499000, tag: "NEW" }
    ];

    // === DOM ELEMENTS ===
    const listContainer = document.getElementById('iphoneList');
    const searchInput = document.getElementById('searchInput');
    const instructionState = document.getElementById('instructionState');
    const emptyState = document.getElementById('emptyState');
    const themeToggle = document.getElementById('themeToggle');

    // === DARK MODE LOGIC ===
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        themeToggle.textContent = '‚òÄÔ∏è';
    } else {
        themeToggle.textContent = 'üåô';
    }

    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // === FORMAT RUPIAH ===
    const formatIDR = (num) => {
        return new Intl.NumberFormat('id-ID', {
            style: 'currency',
            currency: 'IDR',
            minimumFractionDigits: 0
        }).format(num).replace(/\s/g, ''); 
    };

    // === RENDER FUNCTION ===
    function renderList(data) {
        listContainer.innerHTML = ''; // Reset list
        
        data.forEach(item => {
            const badge = item.tag ? `<span class="badge-new ${item.tag === 'NEW' ? 'badge-blue' : ''}">${item.tag}</span>` : '';
            const isDiscount = item.promo < item.normal;
            const normalPrice = isDiscount ? `<div class="price-normal">${formatIDR(item.normal)}</div>` : '';

            const html = `
                <div class="card">
                    <div class="info-col">
                        <div class="model-name">${item.name} ${badge}</div>
                        <span class="storage-lbl">${item.rom}</span>
                    </div>
                    <div class="price-col">
                        ${normalPrice}
                        <div class="price-final">${formatIDR(item.promo)}</div>
                    </div>
                </div>
            `;
            listContainer.insertAdjacentHTML('beforeend', html);
        });
    }

    // === LOGIC UTAMA (EVENT LISTENER) ===
    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase().trim();
        
        // KONDISI 1: Kolom Pencarian Kosong
        if (query.length === 0) {
            instructionState.classList.add('visible');
            listContainer.innerHTML = '';
            emptyState.classList.remove('visible');
            return;
        }

        // KONDISI 2: Ada Input, Lakukan Filter
        instructionState.classList.remove('visible');
        
        const filtered = products.filter(item => 
            item.name.toLowerCase().includes(query) || 
            item.rom.toLowerCase().includes(query)
        );

        // KONDISI 3: Hasil Filter Kosong atau Ada
        if (filtered.length === 0) {
            listContainer.innerHTML = '';
            emptyState.classList.add('visible');
        } else {
            emptyState.classList.remove('visible');
            renderList(filtered);
        }
    });

</script>

</body>
</html>
